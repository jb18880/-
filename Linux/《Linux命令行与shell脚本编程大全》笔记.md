## **第三章 bash shell基础命令**

#### **3.4.1 Linux文件操作系统**

常见的目录名均基于文件系统层级标准（filesystem hierarchy standard，FHS）。很多Linux发 行版都遵循了FHS。这样一来，你就能够在任何兼容FHS的Linux系统中轻而易举地查找文件。

#### **3.5 列出文件和目录**

- ls的输出结果是按列显示的，不是按行显示的
- -F参数在目录名后加了正斜线（/），以方便用户在输出中分辨它们。类似地，它会在可执行 文件（比如上面的my_script文件）的后面加个星号，以便用户找出可在系统上运行的文件。
- ls -ld 通过长格式显示目录的详情信息

#### **3.6.2 复制文件**

- 如果目标文件已经存在，则cp命令会覆盖掉旧的文件。最好加上-i选项，强制shell询问是否需要覆盖已有文件

- 也可以将文件复制到现有目录中：

  ```
   $ cp -i test_one /home/christine/Documents/
   $
   $ ls -l /home/christine/Documents/
   total 0
   -rw-rw-r--. 1 christine christine 0 Feb 29 17:48 test_one
  ```

  该实例在目标目录名尾部加上了一个正斜线（/）。这表明Documents是一个目录而非文件。这有助于表明目的，而且在复制单个文件时非常重要。如果没有使用正斜线，同时子目录/home/christine/Documents又不存在，就会产生麻烦。在这种情况下，试图将一个文件复制到Documents子目录反而会创建名为Documents的文件，更是连错误消息都不会有。因此，**记得在目标目录名尾部加上正斜线**。

#### **3.6.4 链接文件**

链接文件分为软链接文件和硬链接文件

- 软链接

  ```
   ln -s <source_file> <destination_file>
  ```

  软链接文件和源文件是两个不同的文件，因为他们的inode号不同，可以使用`ls -i`查看

- 硬链接

  ```
   ln <source_file> <destination_file>
  ```

  通过硬链接创建的文件，本质上就是创建了一个跟源文件一模一样的副本，不分真假，他们有相同的inode编号，本质上就是同一个文件。

- 注意：

  ```
   只能对处于同一存储设备的文件创建硬链接。要想在位于不同存储设备的文件之间创建链接，只能使用符号链接。
   通过cp命令复制的文件与源文件的inode编号不同，所以会在文件系统中占用两份空间，而通过硬链接创建的文件inode编号相同，在linux系统中只会存储一份。
  ```

#### **3.6.5 文件重命名**

- `mv fall fzll` 会将文件名从fall更改为fzll，但inode编号和时间戳保持不变。这是因为`mv只影响文件名。`
- 注意：使用mv命令是最好加上-i，否则会直接覆盖掉同名文件，生产环境就会有很大的安全隐患